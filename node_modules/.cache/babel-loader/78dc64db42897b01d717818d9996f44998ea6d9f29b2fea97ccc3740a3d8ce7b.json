{"ast":null,"code":"import _regeneratorRuntime from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import ReactAnimatedWeather from\"react-animated-weather\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Forecast(_ref){var weather=_ref.weather;var data=weather.data;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),forecastData=_useState2[0],setForecastData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isCelsius=_useState4[0],setIsCelsius=_useState4[1];// Track temperature unit\nuseEffect(function(){var fetchForecastData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var apiKey,url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiKey=\"b03a640e5ef6980o4da35b006t5f2942\";url=\"https://api.shecodes.io/weather/v1/forecast?query=\".concat(data.city,\"&key=\").concat(apiKey,\"&units=metric\");_context.prev=2;_context.next=5;return axios.get(url);case 5:response=_context.sent;setForecastData(response.data.daily);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(\"Error fetching forecast data:\",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function fetchForecastData(){return _ref2.apply(this,arguments);};}();fetchForecastData();},[data.city]);var formatDay=function formatDay(dateString){var options={weekday:\"short\"};var date=new Date(dateString*1000);return date.toLocaleDateString(\"en-US\",options);};var getCurrentDate=function getCurrentDate(){var options={weekday:\"long\",day:\"numeric\",month:\"long\",year:\"numeric\"};var currentDate=new Date().toLocaleDateString(\"en-US\",options);return currentDate;};var toggleTemperatureUnit=function toggleTemperatureUnit(){setIsCelsius(function(prevState){return!prevState;});};var convertToCelsius=function convertToCelsius(temperature){return Math.round((temperature-32)*(5/9));};var convertToFahrenheit=function convertToFahrenheit(temperature){return Math.round(temperature*9/5+32);};var renderTemperature=function renderTemperature(temperature){if(isCelsius){return Math.round(temperature);}else{return convertToFahrenheit(temperature);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"city-name\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[data.city,\", \",/*#__PURE__*/_jsx(\"span\",{children:data.country})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:/*#__PURE__*/_jsx(\"span\",{children:getCurrentDate()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"temp\",children:[data.condition.icon_url&&/*#__PURE__*/_jsx(\"img\",{src:data.condition.icon_url,alt:data.condition.description,className:\"temp-icon\"}),renderTemperature(data.temperature.current),/*#__PURE__*/_jsxs(\"sup\",{className:\"temp-deg\",onClick:toggleTemperatureUnit,children:[isCelsius?\"°C\":\"°F\",\" | \",isCelsius?\"°F\":\"°C\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"weather-des\",children:data.condition.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(ReactAnimatedWeather,{icon:\"WIND\",size:\"40\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"wind\",children:[data.wind.speed,\"m/s\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Wind speed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(ReactAnimatedWeather,{icon:\"RAIN\",size:\"40\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"humidity\",children:[data.temperature.humidity,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Humidity\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"5-Day Forecast:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast-container\",children:forecastData&&forecastData.slice(0,5).map(function(day){return/*#__PURE__*/_jsxs(\"div\",{className:\"day\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"day-name\",children:formatDay(day.time)}),day.condition.icon_url&&/*#__PURE__*/_jsx(\"img\",{className:\"day-icon\",src:day.condition.icon_url,alt:day.condition.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"day-temperature\",children:[Math.round(day.temperature.minimum),\"\\xB0/ \",/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(day.temperature.maximum),\"\\xB0\"]})]})]},day.time);})})]})]});}export default Forecast;","map":{"version":3,"names":["React","useEffect","useState","axios","ReactAnimatedWeather","jsx","_jsx","jsxs","_jsxs","Forecast","_ref","weather","data","_useState","_useState2","_slicedToArray","forecastData","setForecastData","_useState3","_useState4","isCelsius","setIsCelsius","fetchForecastData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiKey","url","response","wrap","_callee$","_context","prev","next","concat","city","get","sent","daily","t0","console","log","stop","apply","arguments","formatDay","dateString","options","weekday","date","Date","toLocaleDateString","getCurrentDate","day","month","year","currentDate","toggleTemperatureUnit","prevState","convertToCelsius","temperature","Math","round","convertToFahrenheit","renderTemperature","children","className","country","condition","icon_url","src","alt","description","current","onClick","icon","size","wind","speed","humidity","slice","map","time","minimum","maximum"],"sources":["H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/src/components/Forecast.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ReactAnimatedWeather from \"react-animated-weather\";\r\n\r\nfunction Forecast({ weather }) {\r\n  const { data } = weather;\r\n  const [forecastData, setForecastData] = useState([]);\r\n  const [isCelsius, setIsCelsius] = useState(true); // Track temperature unit\r\n\r\n  useEffect(() => {\r\n    const fetchForecastData = async () => {\r\n      const apiKey = \"b03a640e5ef6980o4da35b006t5f2942\";\r\n      const url = `https://api.shecodes.io/weather/v1/forecast?query=${data.city}&key=${apiKey}&units=metric`;\r\n\r\n      try {\r\n        const response = await axios.get(url);\r\n        setForecastData(response.data.daily);\r\n      } catch (error) {\r\n        console.log(\"Error fetching forecast data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchForecastData();\r\n  }, [data.city]);\r\n\r\n  const formatDay = (dateString) => {\r\n    const options = { weekday: \"short\" };\r\n    const date = new Date(dateString * 1000);\r\n    return date.toLocaleDateString(\"en-US\", options);\r\n  };\r\n\r\n  const getCurrentDate = () => {\r\n    const options = {\r\n      weekday: \"long\",\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      year: \"numeric\"\r\n    };\r\n    const currentDate = new Date().toLocaleDateString(\"en-US\", options);\r\n    return currentDate;\r\n  };\r\n\r\n  const toggleTemperatureUnit = () => {\r\n    setIsCelsius((prevState) => !prevState);\r\n  };\r\n\r\n  const convertToCelsius = (temperature) => {\r\n    return Math.round((temperature - 32) * (5 / 9));\r\n  };\r\n\r\n  const convertToFahrenheit = (temperature) => {\r\n    return Math.round((temperature * 9) / 5 + 32);\r\n  };\r\n\r\n  const renderTemperature = (temperature) => {\r\n    if (isCelsius) {\r\n      return Math.round(temperature);\r\n    } else {\r\n      return convertToFahrenheit(temperature);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"city-name\">\r\n        <h2>\r\n          {data.city}, <span>{data.country}</span>\r\n        </h2>\r\n      </div>\r\n      <div className=\"date\">\r\n        <span>{getCurrentDate()}</span>\r\n      </div>\r\n      <div className=\"temp\">\r\n        {data.condition.icon_url && (\r\n          <img\r\n            src={data.condition.icon_url}\r\n            alt={data.condition.description}\r\n            className=\"temp-icon\"\r\n          />\r\n        )}\r\n        {renderTemperature(data.temperature.current)}\r\n        <sup className=\"temp-deg\" onClick={toggleTemperatureUnit}>\r\n          {isCelsius ? \"°C\" : \"°F\"} | {isCelsius ? \"°F\" : \"°C\"}\r\n        </sup>\r\n      </div>\r\n      <p className=\"weather-des\">{data.condition.description}</p>\r\n      <div className=\"weather-info\">\r\n        <div className=\"col\">\r\n          <ReactAnimatedWeather icon=\"WIND\" size=\"40\"/>\r\n          <div>\r\n            <p className=\"wind\">{data.wind.speed}m/s</p>\r\n            <p>Wind speed</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <ReactAnimatedWeather icon=\"RAIN\" size=\"40\"/>\r\n          <div>\r\n            <p className=\"humidity\">{data.temperature.humidity}%</p>\r\n            <p>Humidity</p>\r\n        </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"forecast\">\r\n        <h3>5-Day Forecast:</h3>\r\n        <div className=\"forecast-container\">\r\n          {forecastData &&\r\n            forecastData.slice(0, 5).map((day) => (\r\n              <div className=\"day\" key={day.time}>\r\n                <p className=\"day-name\">{formatDay(day.time)}</p>\r\n                {day.condition.icon_url && (\r\n                  <img\r\n                    className=\"day-icon\"\r\n                    src={day.condition.icon_url}\r\n                    alt={day.condition.description}\r\n                  />\r\n                )}\r\n                <p className=\"day-temperature\">\r\n                  {Math.round(day.temperature.minimum)}°/ <span>{Math.round(day.temperature.maximum)}°</span>\r\n                </p>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}        \r\n\r\nexport default Forecast;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}