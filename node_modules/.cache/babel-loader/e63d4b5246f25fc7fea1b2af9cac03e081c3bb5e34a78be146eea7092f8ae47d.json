{"ast":null,"code":"import _regeneratorRuntime from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import SearchEngine from\"./SearchEngine\";import Forecast from\"./Forecast\";import\"../styles.css\";import'@fortawesome/fontawesome-free/css/all.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState({loading:true,data:{},error:false}),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var toDate=function toDate(){var months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"Nocvember\",\"December\"];var days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var currentDate=new Date();var date=\"\".concat(days[currentDate.getDay()],\" \").concat(currentDate.getDate(),\" \").concat(months[currentDate.getMonth()]);return date;};var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var apiKey,url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(event.key===\"Enter\")){_context.next=8;break;}event.preventDefault();setQuery(\"\");setWeather(_objectSpread(_objectSpread({},weather),{},{loading:true}));apiKey=\"b03a640e5ef6980o4da35b006t5f2942\";url=\"https://api.shecodes.io/weather/v1/current?query=\".concat(query,\"&key=\").concat(apiKey);_context.next=8;return axios.get(url).then(function(res){console.log(\"res\",res);setWeather({data:res.data,loading:false,error:false});}).catch(function(error){setWeather(_objectSpread(_objectSpread({},weather),{},{data:{},error:true}));setQuery(\"\");console.log(\"error\",error);});case 8:case\"end\":return _context.stop();}},_callee);}));return function search(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var apiKey,url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:apiKey=\"b03a640e5ef6980o4da35b006t5f2942\";url=\"https://api.shecodes.io/weather/v1/current?query=Rabat&key=\".concat(apiKey);_context2.prev=2;_context2.next=5;return axios.get(url);case 5:response=_context2.sent;setWeather({data:response.data,loading:false,error:false});_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);setWeather({data:{},loading:false,error:true});console.log(\"error\",_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[2,9]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchEngine,{query:query,setQuery:setQuery,search:search}),weather.loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Searching..\"})]}),weather.error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:\"font\"},children:\"Sorry city not found, please try again.\"})})]}),weather&&weather.data&&weather.data.condition&&/*#__PURE__*/ // Forecast component\n_jsx(Forecast,{weather:weather,toDate:toDate})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","SearchEngine","Forecast","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","loading","data","error","_useState4","weather","setWeather","toDate","months","days","currentDate","Date","date","concat","getDay","getDate","getMonth","search","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","apiKey","url","wrap","_callee$","_context","prev","next","key","preventDefault","_objectSpread","get","then","res","console","log","catch","stop","_x","apply","arguments","fetchData","_ref2","_callee2","response","_callee2$","_context2","sent","t0","className","children","style","fontFamily","condition"],"sources":["H:/IT Company Placements/Web Development/Project Web Development/React-Weather-App-main/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SearchEngine from \"./SearchEngine\";\nimport Forecast from \"./Forecast\";\n\nimport \"../styles.css\";\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\n\nfunction App() {\n  const [query, setQuery] = useState();\n  const [weather, setWeather] = useState({\n    loading: true,\n    data: {},\n    error: false\n  });\n\n  const toDate = () => {\n    const months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"Nocvember\",\n      \"December\"\n    ];\n    const days = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\"\n    ];\n\n    const currentDate = new Date();\n    const date = `${days[currentDate.getDay()]} ${currentDate.getDate()} ${\n      months[currentDate.getMonth()]\n    }`;\n    return date;\n  };\n\n  const search = async (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      setQuery(\"\");\n      setWeather({ ...weather, loading: true });\n      const apiKey = \"b03a640e5ef6980o4da35b006t5f2942\";\n      const url = `https://api.shecodes.io/weather/v1/current?query=${query}&key=${apiKey}`;\n\n      await axios\n        .get(url)\n        .then((res) => {\n          console.log(\"res\", res);\n          setWeather({ data: res.data, loading: false, error: false });\n        })\n        .catch((error) => {\n          setWeather({ ...weather, data: {}, error: true });\n          setQuery(\"\");\n          console.log(\"error\", error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const apiKey = \"b03a640e5ef6980o4da35b006t5f2942\";\n      const url = `https://api.shecodes.io/weather/v1/current?query=Rabat&key=${apiKey}`;\n\n      try {\n        const response = await axios.get(url);\n\n        setWeather({ data: response.data, loading: false, error: false });\n      } catch (error) {\n        setWeather({ data: {}, loading: false, error: true });\n        console.log(\"error\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n\n      {/* SearchEngine component */}\n      <SearchEngine query={query} setQuery={setQuery} search={search} />\n\n      {weather.loading && (\n        <>\n          <br />\n          <br />\n          <h4>Searching..</h4>\n        </>\n      )}\n\n      {weather.error && (\n        <>\n          <br />\n          <br />\n          <span className=\"error-message\">\n            <span style={{ fontFamily: \"font\" }}>\n              Sorry city not found, please try again.\n            </span>\n          </span>\n        </>\n      )}\n\n      {weather && weather.data && weather.data.condition && (\n        // Forecast component\n        <Forecast weather={weather} toDate={toDate} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}